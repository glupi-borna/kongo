$primary: #3c3835;

@font-face {
	font-family: ALSSchlange;
	src: url("fonts/alsschlangeregular.otf");
}
@font-face {
	font-family: "DIN Pro";
	src: url("fonts/DINPro-Bold.otf");
	font-size: bold;
}
@font-face {
	font-family: "DIN Pro";
	src: url("fonts/DINPro-Cond.otf");
	font-stretch: condensed;
}
@font-face {
	font-family: "DIN Pro";
	src: url("fonts/DINPro-CondBold.otf");
	font-stretch: condensed;
	font-size: bold;
}
@font-face {
	font-family: "DIN Pro";
	src: url("fonts/DINPro-CondMedium.otf");
	font-stretch: condensed;
	font-weight: medium;
}

@keyframes fadeout {
	0% {
		opacity: 1;
	}
	50% {
		opacity: 1;
	}
	100% {
		opacity: 0;
	}
}

html, body {
	background-color: white;
	background: url("graphics/PODLOGA.svg");
	background-size: 5%;
	color: $primary;
	padding: 0;
	margin: 0;
	width: 100vw;
	height: 100vh;
	overflow: hidden;
}

body {
	display: flex;
	flex-flow: column nowrap;
	justify-content: space-between;
	align-items: center;

	&::after {
		/* Fadein */
		content: '';
		display: block;
		position: absolute;
		left: 0;
		top: 0;
		width: 100vw;
		height: 100vh;
		opacity: 1;
		background: white;
		z-index: 1;
		pointer-events: none;
		animation: 0.5s fadeout forwards;
	}
}

header {
	flex: 0 0 auto;
	position: relative;
	background: $primary;
	height: 13vh;
	width: 100%;

	img {
		position: absolute;
		left: 50%;
		top: 50%;
		height: 100%;
		width: 100%;
		transform: translate(-50%, -50%);
		height: 125%;
	}
}

footer {
	flex: 0 0 auto;
	position: absolute;
	background: white;
	bottom: 0;
	height: 4vh;
	width: 13vh;
	padding: 1vh;
	img {
		position: absolute;
		left: 50%;
		top: 50%;
		height: 100%;
		width: 100%;
		transform: translate(-50%, -50%);
		height: calc(100% - 2vh);
		width: calc(100% - 2vh);
	}
}
main {
	position: relative;
	flex: 1;
	width: 100vw;
	overflow: hidden;

	article.food-element {
		position: relative;
		height: 22vh;
		margin-top: 4.5vh;
		margin-left: 5vw;
		margin-right: 5vw;
		box-sizing: border-box;
		transition: margin-right 0.25s, opacity 0.25s, filter 0.25s, height 0.2s;
		z-index: 1;

		/* filter: blur(calc((1 - var(--middle-distance)) * 10px - 9px)); */
		/* opacity: calc(0.8 + var(--middle-distance)); */

		&.unfocused {
			opacity: 0.5;
			filter: blur(3px);
		}

		&.large {
			height: 75vh;

			.food-details {
				width: calc(100% - 2vw);
				left: 2vw;
				right: 0;

				.food-blank {
					flex-basis: calc(22vh - 2vw);
				}

				.food-details-additional {
					height: 53vh;
					opacity: 1;
				}
			}
		}

		.food-image {
			position: absolute;
			height: 22vh;
			left: 11vh;
			z-index: 2;
			transform: translateX(-50%);
			filter: brightness(120%);

			img {
				height: 100%;
				border-radius: 100%;
				position: relative;
				max-height: 22vh;
				z-index: 2;
			}

			&::before {
				/* Shadow */
				content: "";
				display: block;
				position: absolute;
				/* background: linear-gradient(to top, transparent, $primary); */
				left: 0;
				top: 0;
				width: 100%;
				height: 50%;
				z-index: 1;
				transform-origin: bottom;
				transform: rotate(45deg);
				box-shadow: 0 5.5vh transparentize($primary, 0.05),
							0 11vh transparentize($primary, 0.1),
							0 16.5vh transparentize($primary, 0.15),
							0 22vh transparentize($primary, 0.2),
							0 27.5vh transparentize($primary, 0.25),
							0 33vh transparentize($primary, 0.3),
							0 38.5vh transparentize($primary, 0.35),
							0 44vh transparentize($primary, 0.4),
							0 49.5vh transparentize($primary, 0.45),
							0 55vh transparentize($primary, 0.5),
							0 60.5vh transparentize($primary, 0.55),
							0 66vh transparentize($primary, 0.6),
							0 71.5vh transparentize($primary, 0.65),
							0 77vh transparentize($primary, 0.7),
							0 82.5vh transparentize($primary, 0.75);
				opacity: 0.1;
			}
		}

		.food-details {
			display: flex;
			flex-flow: row-reverse nowrap;
			position: absolute;
			left: 11vh;
			width: calc(100% - 11vh);
			height: 100%;
			top: 0;
			background: white;
			padding: 1vh;
			box-sizing: border-box;
			transition: width 0.2s, left 0.2s;

			.food-summary {
				flex: 2;
				position: relative;
				border-top: 0.3vh solid $primary;
				box-sizing: border-box;
				height: 22vh;
			}

			.food-blank {
				transition: flex-basis 0.2s;
				height: 22vh;
				flex: 0 0 11vh;
			}

			.food-details-additional {
				height: 0;
				width: 66%;
				opacity: 0;
				overflow: hidden;
				position: absolute;
				transition: height 0.1s, opacity 0.25s;
				top: 22vh;
				left: 1vh;
			}
		}
		&:nth-child(2n+1) {
			.food-details {
				left: 0;
				flex-flow: row nowrap;
			}

			.food-image {
				right: 11vh;
				left: initial;
				transform: translateX(50%);

				&::before {
					transform: rotate(-45deg);
					/* transform: rotate(-45deg) scale(1, 4) translateY(50%); */
				}
			}

			&.large {
				.food-details {
					left: 0;
				}
			}
		}

		h1 {
			font: 1.25vh "DIN Pro";
			font-weight: bold;
			text-transform: uppercase;
		}

		p {
			font: 0.72vh ALSSchlange;
		}

		p.food-discount {
			font: 1.3vh "DIN Pro";
			font-weight: medium;
			font-stretch: condensed;
			margin: 0;
			position: absolute;
			bottom: 7.5vh;
			padding-left: 0.5vh;
			.food-original-price {
				text-decoration: line-through 0.2vh;
			}
		}

		p.food-price {
			font: 5vh "DIN Pro";
			font-weight: bold;
			margin: 0;
			position: absolute;
			bottom: 2vh;
			&::after {
				content: "kn";
				font-size: 50.4%;
			}
		}

		&:first-child {
			margin-top: 4vh;
		}
		&:last-child {
			margin-bottom: 8vh;
		}
	}

	&.has-scrollbar {
		article.food-element {
			margin-right: 10vw;
		}
	}
}

div.scroll-container {
	position: relative;
	overflow: auto;
	height: 100%;
	width: 100%;
	box-sizing: content-box;
	z-index: 0;

	&::-webkit-scrollbar {
	  display: none;
	}

  -ms-overflow-style: none;
  scrollbar-width: none;
}

div.scrollbar {
	display: block;
	position: absolute;
	right: 5vw;
	top: 0;
	width: 2vw;
	height: calc(100% - 8vh);
	background: white;
	border: solid #a5a7aa 1.5px;
	border-radius: 100000px;
	box-sizing: border-box;
	transition: width 0.25s, opacity 0.25s;
	z-index: 1;
	user-select: none;
	margin-top: 4vh;
	margin-bottom: 4vh;
	opacity: 1;

	&.invisible {
		width: 0px;
		opacity: 0;
	}

	.scrollbar-nub {
		display: block;
		position: absolute;
		height: 0;
		top: 0;
		width: 100%;
		background: #a5a7aa;
		border-radius: 100000px;
		box-sizing: content-box;
		padding-top: 2px;
		transition: transform 0.1s, height 0.25s;
	}
}
